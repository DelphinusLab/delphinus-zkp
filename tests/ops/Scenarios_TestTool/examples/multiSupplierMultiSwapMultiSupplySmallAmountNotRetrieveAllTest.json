{
    "_COMMENT":"multiSupplierMultiSwapMultiSupplySmallAmountNotRetrieveAllTest: A supply big, B supply big, A multi swap, A retrieve a lot, A multi supply 10 times small amount, A retrieve",

    "scenario":[
            {
                "op_name": "setkey",
                "nonce": 0,
                "accountIndex": 1,
                "ax": 1,
                "ay": 2
            },
            {
                "op_name": "addpool",
                "nonce": 1,
                "tokenIndex0": 0,
                "tokenIndex1": 1,
                "poolIndex": 0,
                "callerAccountIndex": 1
            },
            {
                "op_name": "setkey",
                "nonce": 0,
                "accountIndex": 2,
                "ax": 3,
                "ay": 4
            },
            {
                "op_name": "setkey",
                "nonce": 0,
                "accountIndex": 3,
                "ax": 5,
                "ay": 6
            },
            {
                "op_name": "deposit",
                "nonce": 2,
                "accountIndex": 2,
                "tokenIndex": 0,
                "amount": 2000,
                "callerAccountIndex": 1,
                "l1_tx_hash": 0
            },
            {
                "op_name": "deposit",
                "nonce": 3,
                "accountIndex": 2,
                "tokenIndex": 1,
                "amount": 2000,
                "callerAccountIndex": 1,
                "l1_tx_hash": 1
            },
            {
                "op_name": "deposit",
                "nonce": 4,
                "accountIndex": 3,
                "tokenIndex": 0,
                "amount": 2000,
                "callerAccountIndex": 1,
                "l1_tx_hash": 2
            },
            {
                "op_name": "deposit",
                "nonce": 5,
                "accountIndex": 3,
                "tokenIndex": 1,
                "amount": 2000,
                "callerAccountIndex": 1,
                "l1_tx_hash": 3
            },
            {
                "op_name": "supply",
                "nonce": 1,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1000,
                "amount1": 1000,
                "liq0_check":1000,
                "liq1_check":1000,
                "userShare_check":"1000000000000000000",
                "userBalance0_check":1000,
                "userBalance1_check":1000,
                "poolShareTotal_check":"1000000000000000000"
            },
            {
                "op_name": "supply",
                "nonce": 1,
                "accountIndex": 3,
                "poolIndex": 0,
                "amount0": 500,
                "amount1": 500,
                "liq0_check":1500,
                "liq1_check":1500,
                "userShare_check":"500000000000000000",
                "userBalance0_check":1500,
                "userBalance1_check":1500,
                "poolShareTotal_check":"1500000000000000000"
            },
            {
                "op_name": "swap",
                "nonce": 1,
                "accountIndex": 2,
                "poolIndex": 0,
                "reverse": 1,
                "amount": 100,
                "liq0_check":1407,
                "liq1_check":1600,
                "userBalance0_check":1093,
                "userBalance1_check":900
            },
            {
                "op_name": "swap",
                "nonce": 2,
                "accountIndex": 2,
                "poolIndex": 0,
                "reverse": 0,
                "amount": 100,
                "liq0_check":1507,
                "liq1_check":1495,
                "userBalance0_check":993,
                "userBalance1_check":1005
            },
            {
                "op_name": "retrieve",
                "nonce": 5,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1004,
                "amount1": 996,
                "liq0_check":503,
                "liq1_check":499,
                "userShare_check":"663570006635700",
                "userBalance0_check":1997,
                "userBalance1_check":2001,
                "poolShareTotal_check":"500663570006635700"
            },
            {
                "op_name": "supply",
                "nonce": 6,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":504,
                "liq1_check":500,
                "userShare_check": "1658925016589250",
                "userBalance0_check":1996,
                "userBalance1_check":2000,
                "poolShareTotal_check": "501658925016589250"
            },
            {
                "op_name": "supply",
                "nonce": 7,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":505,
                "liq1_check":501,
                "userShare_check": "2654280026542800",
                "userBalance0_check":1995,
                "userBalance1_check":1999,
                "poolShareTotal_check": "502654280026542800"
            },
            {
                "op_name": "supply",
                "nonce": 8,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":506,
                "liq1_check":502,
                "userShare_check": "3649635036496350",
                "userBalance0_check":1994,
                "userBalance1_check":1998,
                "poolShareTotal_check": "503649635036496350"
            },
            {
                "op_name": "supply",
                "nonce": 9,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":507,
                "liq1_check":503,
                "userShare_check": "4644990046449900",
                "userBalance0_check":1993,
                "userBalance1_check":1997,
                "poolShareTotal_check": "504644990046449900"
            },
            {
                "op_name": "supply",
                "nonce": 10,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":508,
                "liq1_check":504,
                "userShare_check": "5640345056403450",
                "userBalance0_check":1992,
                "userBalance1_check":1996,
                "poolShareTotal_check": "505640345056403450"
            },
            {
                "op_name": "supply",
                "nonce": 11,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":509,
                "liq1_check":505,
                "userShare_check": "6635700066357000",
                "userBalance0_check":1991,
                "userBalance1_check":1995,
                "poolShareTotal_check": "506635700066357000"
            },
            {
                "op_name": "supply",
                "nonce": 12,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":510,
                "liq1_check":506,
                "userShare_check": "7631055076310550",
                "userBalance0_check":1990,
                "userBalance1_check":1994,
                "poolShareTotal_check": "507631055076310550"
            },
            {
                "op_name": "supply",
                "nonce": 13,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":511,
                "liq1_check":507,
                "userShare_check": "8626410086264100",
                "userBalance0_check":1989,
                "userBalance1_check":1993,
                "poolShareTotal_check": "508626410086264100"
            },
            {
                "op_name": "supply",
                "nonce": 14,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":512,
                "liq1_check":508,
                "userShare_check": "9621765096217650",
                "userBalance0_check":1988,
                "userBalance1_check":1992,
                "poolShareTotal_check": "509621765096217650"
            },
            {
                "op_name": "supply",
                "nonce": 15,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 1,
                "amount1": 1,
                "liq0_check":513,
                "liq1_check":509,
                "userShare_check": "10617120106171200",
                "userBalance0_check":1987,
                "userBalance1_check":1991,
                "poolShareTotal_check": "510617120106171200"
            },
            {
                "op_name": "retrieve",
                "nonce": 16,
                "accountIndex": 2,
                "poolIndex": 0,
                "amount0": 10,
                "amount1": 9,
                "liq0_check":503,
                "liq1_check":500,
                "userShare_check":"663570006635699",
                "userBalance0_check":1997,
                "userBalance1_check":2000,
                "poolShareTotal_check": "500663570006635699"
            }
        ]
}
